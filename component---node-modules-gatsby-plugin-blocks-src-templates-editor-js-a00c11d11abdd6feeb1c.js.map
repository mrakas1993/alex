{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es6.map.js","webpack:///./node_modules/core-js/modules/es6.set.js","webpack:///./node_modules/core-js/modules/es6.array.some.js","webpack:///./node_modules/core-js/modules/_collection-strong.js","webpack:///./node_modules/gatsby-plugin-blocks/src/templates/editor.js","webpack:///./node_modules/gatsby-plugin-blocks/src/use-debounce.js","webpack:///(webpack)/buildin/global.js"],"names":["strong","validate","module","exports","get","this","arguments","length","undefined","key","entry","getEntry","v","set","value","def","add","$export","$some","P","F","some","callbackfn","dP","f","create","redefineAll","ctx","anInstance","forOf","$iterDefine","step","setSpecies","DESCRIPTORS","fastKey","SIZE","that","index","_i","_f","n","k","getConstructor","wrapper","NAME","IS_MAP","ADDER","C","iterable","_t","_l","prototype","clear","data","r","p","i","next","prev","forEach","has","setStrong","iterated","kind","_k","Layout","props","className","children","relativePath","useState","code","setCode","debouncedCode","delay","debouncedValue","setDebouncedValue","useEffect","handler","setTimeout","clearTimeout","useDebounce","fetch","method","headers","body","JSON","stringify","page","res","text","srcCode","initializeCode","src","blocks","Blocks","layout","onChange","newCode","g","Function","e","window"],"mappings":"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","file":"component---node-modules-gatsby-plugin-blocks-src-templates-editor-js-a00c11d11abdd6feeb1c.js","sourcesContent":["'use strict';\nvar strong = require('./_collection-strong');\nvar validate = require('./_validate-collection');\nvar MAP = 'Map';\n\n// 23.1 Map Objects\nmodule.exports = require('./_collection')(MAP, function (get) {\n  return function Map() { return get(this, arguments.length > 0 ? arguments[0] : undefined); };\n}, {\n  // 23.1.3.6 Map.prototype.get(key)\n  get: function get(key) {\n    var entry = strong.getEntry(validate(this, MAP), key);\n    return entry && entry.v;\n  },\n  // 23.1.3.9 Map.prototype.set(key, value)\n  set: function set(key, value) {\n    return strong.def(validate(this, MAP), key === 0 ? 0 : key, value);\n  }\n}, strong, true);\n","'use strict';\nvar strong = require('./_collection-strong');\nvar validate = require('./_validate-collection');\nvar SET = 'Set';\n\n// 23.2 Set Objects\nmodule.exports = require('./_collection')(SET, function (get) {\n  return function Set() { return get(this, arguments.length > 0 ? arguments[0] : undefined); };\n}, {\n  // 23.2.3.1 Set.prototype.add(value)\n  add: function add(value) {\n    return strong.def(validate(this, SET), value = value === 0 ? 0 : value, value);\n  }\n}, strong);\n","'use strict';\nvar $export = require('./_export');\nvar $some = require('./_array-methods')(3);\n\n$export($export.P + $export.F * !require('./_strict-method')([].some, true), 'Array', {\n  // 22.1.3.23 / 15.4.4.17 Array.prototype.some(callbackfn [, thisArg])\n  some: function some(callbackfn /* , thisArg */) {\n    return $some(this, callbackfn, arguments[1]);\n  }\n});\n","'use strict';\nvar dP = require('./_object-dp').f;\nvar create = require('./_object-create');\nvar redefineAll = require('./_redefine-all');\nvar ctx = require('./_ctx');\nvar anInstance = require('./_an-instance');\nvar forOf = require('./_for-of');\nvar $iterDefine = require('./_iter-define');\nvar step = require('./_iter-step');\nvar setSpecies = require('./_set-species');\nvar DESCRIPTORS = require('./_descriptors');\nvar fastKey = require('./_meta').fastKey;\nvar validate = require('./_validate-collection');\nvar SIZE = DESCRIPTORS ? '_s' : 'size';\n\nvar getEntry = function (that, key) {\n  // fast case\n  var index = fastKey(key);\n  var entry;\n  if (index !== 'F') return that._i[index];\n  // frozen object case\n  for (entry = that._f; entry; entry = entry.n) {\n    if (entry.k == key) return entry;\n  }\n};\n\nmodule.exports = {\n  getConstructor: function (wrapper, NAME, IS_MAP, ADDER) {\n    var C = wrapper(function (that, iterable) {\n      anInstance(that, C, NAME, '_i');\n      that._t = NAME;         // collection type\n      that._i = create(null); // index\n      that._f = undefined;    // first entry\n      that._l = undefined;    // last entry\n      that[SIZE] = 0;         // size\n      if (iterable != undefined) forOf(iterable, IS_MAP, that[ADDER], that);\n    });\n    redefineAll(C.prototype, {\n      // 23.1.3.1 Map.prototype.clear()\n      // 23.2.3.2 Set.prototype.clear()\n      clear: function clear() {\n        for (var that = validate(this, NAME), data = that._i, entry = that._f; entry; entry = entry.n) {\n          entry.r = true;\n          if (entry.p) entry.p = entry.p.n = undefined;\n          delete data[entry.i];\n        }\n        that._f = that._l = undefined;\n        that[SIZE] = 0;\n      },\n      // 23.1.3.3 Map.prototype.delete(key)\n      // 23.2.3.4 Set.prototype.delete(value)\n      'delete': function (key) {\n        var that = validate(this, NAME);\n        var entry = getEntry(that, key);\n        if (entry) {\n          var next = entry.n;\n          var prev = entry.p;\n          delete that._i[entry.i];\n          entry.r = true;\n          if (prev) prev.n = next;\n          if (next) next.p = prev;\n          if (that._f == entry) that._f = next;\n          if (that._l == entry) that._l = prev;\n          that[SIZE]--;\n        } return !!entry;\n      },\n      // 23.2.3.6 Set.prototype.forEach(callbackfn, thisArg = undefined)\n      // 23.1.3.5 Map.prototype.forEach(callbackfn, thisArg = undefined)\n      forEach: function forEach(callbackfn /* , that = undefined */) {\n        validate(this, NAME);\n        var f = ctx(callbackfn, arguments.length > 1 ? arguments[1] : undefined, 3);\n        var entry;\n        while (entry = entry ? entry.n : this._f) {\n          f(entry.v, entry.k, this);\n          // revert to the last existing entry\n          while (entry && entry.r) entry = entry.p;\n        }\n      },\n      // 23.1.3.7 Map.prototype.has(key)\n      // 23.2.3.7 Set.prototype.has(value)\n      has: function has(key) {\n        return !!getEntry(validate(this, NAME), key);\n      }\n    });\n    if (DESCRIPTORS) dP(C.prototype, 'size', {\n      get: function () {\n        return validate(this, NAME)[SIZE];\n      }\n    });\n    return C;\n  },\n  def: function (that, key, value) {\n    var entry = getEntry(that, key);\n    var prev, index;\n    // change existing entry\n    if (entry) {\n      entry.v = value;\n    // create new entry\n    } else {\n      that._l = entry = {\n        i: index = fastKey(key, true), // <- index\n        k: key,                        // <- key\n        v: value,                      // <- value\n        p: prev = that._l,             // <- previous entry\n        n: undefined,                  // <- next entry\n        r: false                       // <- removed\n      };\n      if (!that._f) that._f = entry;\n      if (prev) prev.n = entry;\n      that[SIZE]++;\n      // add to index\n      if (index !== 'F') that._i[index] = entry;\n    } return that;\n  },\n  getEntry: getEntry,\n  setStrong: function (C, NAME, IS_MAP) {\n    // add .keys, .values, .entries, [@@iterator]\n    // 23.1.3.4, 23.1.3.8, 23.1.3.11, 23.1.3.12, 23.2.3.5, 23.2.3.8, 23.2.3.10, 23.2.3.11\n    $iterDefine(C, NAME, function (iterated, kind) {\n      this._t = validate(iterated, NAME); // target\n      this._k = kind;                     // kind\n      this._l = undefined;                // previous\n    }, function () {\n      var that = this;\n      var kind = that._k;\n      var entry = that._l;\n      // revert to the last existing entry\n      while (entry && entry.r) entry = entry.p;\n      // get next entry\n      if (!that._t || !(that._l = entry = entry ? entry.n : that._t._f)) {\n        // or finish the iteration\n        that._t = undefined;\n        return step(1);\n      }\n      // return step by kind\n      if (kind == 'keys') return step(0, entry.k);\n      if (kind == 'values') return step(0, entry.v);\n      return step(0, [entry.k, entry.v]);\n    }, IS_MAP ? 'entries' : 'values', !IS_MAP, true);\n\n    // add [@@species], 23.1.2.2, 23.2.2.2\n    setSpecies(NAME);\n  }\n};\n","import React, { useEffect, useState } from 'react'\nimport Editor from 'blocks-ui'\nimport * as Blocks from '@blocks/react'\n\nimport useDebounce from '../use-debounce'\n\nconst PAGE = 'foo.js'\n\nconst Layout = props => {\n  return <div className=\"layout\">{props.children}</div>\n}\n\nexport default ({ relativePath = PAGE }) => {\n  const [code, setCode] = useState(null)\n  const debouncedCode = useDebounce(code)\n\n  useEffect(() => {\n    const initializeCode = async () => {\n      const res = await fetch('/___blocks/src', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          page: relativePath\n        })\n      })\n      const srcCode = await res.text()\n      setCode(srcCode)\n    }\n\n    initializeCode()\n  }, [])\n\n  useEffect(() => {\n    if (!debouncedCode) {\n      return\n    }\n\n    fetch('/___blocks', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        code: debouncedCode,\n        page: relativePath\n      })\n    })\n  }, [debouncedCode])\n\n  if (!code) {\n    return null\n  }\n\n  return (\n    <Editor\n      src={code}\n      blocks={Blocks}\n      layout={Layout}\n      onChange={newCode => {\n        setCode(newCode)\n      }}\n    />\n  )\n}\n","import { useState, useEffect } from 'react'\n\nexport default (value, delay = 500) => {\n  const [debouncedValue, setDebouncedValue] = useState(value)\n\n  useEffect(() => {\n    const handler = setTimeout(() => {\n      setDebouncedValue(value)\n    }, delay)\n\n    return () => clearTimeout(handler)\n  }, [value, delay])\n\n  return debouncedValue\n}\n","var g; // This works in non-strict mode\n\ng = function () {\n  return this;\n}();\n\ntry {\n  // This works if eval is allowed (see CSP)\n  g = g || new Function(\"return this\")();\n} catch (e) {\n  // This works if the window reference is available\n  if (typeof window === \"object\") g = window;\n} // g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\n\nmodule.exports = g;"],"sourceRoot":""}